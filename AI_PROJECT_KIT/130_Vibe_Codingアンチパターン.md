# Vibe Codingアンチパターン（避けるべき失敗例）

目的：AIでサクサク作れるからこそ起きやすい失敗を知り、事前に防ぐ。

## 1. AI任せで検証しない

- 症状：コードは動くが、テストもレビューもせずマージ
- 結果：本番で意図しない挙動、セキュリティ穴
- 対策：**必ず lint/typecheck/test を通す**、最低限のスモークテスト

## 2. 秘密情報をプロンプトに貼る

- 症状：APIキー、DB接続情報、顧客データをそのまま貼る
- 結果：ログ漏洩、外部送信リスク
- 対策：**秘密情報は環境変数経由、プロンプトに絶対入れない**

## 3. 一気に巨大タスクを頼む

- 症状：「認証もUIもDBも全部作って」
- 結果：精度低下、仕様抜け漏れ、レビュー不能
- 対策：**1PR=1目的、AC3〜7個まで**

## 4. 設計・アーキ無しで積み上げる

- 症状：「とりあえず動けばいい」を繰り返す
- 結果：技術的負債、リファクタ不能
- 対策：**大きな判断は ADR に残す、定期的にふりかえり**

## 5. AIの出力を"理解せず"マージ

- 症状：何が変わったか読まない
- 結果：暗黙前提の増加、将来のデバッグ不能
- 対策：**最低限diff確認、わからない部分はAIに説明させる**

## 6. スケーラビリティ無視

- 症状：ローカルで動くが、本番想定なし
- 結果：N+1、メモリリーク、パフォーマンス崩壊
- 対策：**レビュー観点に「パフォーマンス」を入れる**

## 7. チーム内でルールがバラバラ

- 症状：Aさんはこのプロンプト、Bさんは別、規約も統一なし
- 結果：コードベースが分裂、引き継ぎ困難
- 対策：**AI_PROJECT_KIT を共有、Gitでルールを管理**

## 8. 入力検証・認可の抜け

- 症状：AIは"正常系"を優先し、異常系・権限チェックを省略しがち
- 結果：脆弱性（SQLi、認可バイパス）
- 対策：**チェックリストに「入力検証」「認可」を必須化**

## まとめ

- AIは"速い"が"正しい"とは限らない
- 小さく、検証し、記録する
- ルールは共有し、更新し続ける

